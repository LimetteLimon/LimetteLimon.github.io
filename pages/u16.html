<!DOCTYPE html>
<html lang="ru">
<head>
<title></title>
<meta charset="utf-8" />
<meta name="description" content="" />
<meta name="robots" content="index,follow" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="../style/reset.css" />
<link rel="stylesheet" type="text/css" href="../style/style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet"> 
<link rel="icon" type="image/png" href="../favicon.png" />

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,700;1,300&display=swap" rel="stylesheet">

<script src="../js/lib.js"></script>
<script src="https://randojs.com/1.0.0.js"></script>
</head>
<body>
	<nav class="navi">
		<div class="logo">
			<a href="http://kodesource.top/jquery-exercises/1/index.php" target="_blank"></a>
		</div>
		<ul>
			
		</ul>
	</nav>

	<main>
		
		<h1></h1>
		<div class="u16__clickCount">
			<p><span>Количество кликов  </span> <span>0</span></p>
		</div>
		
		<div class="unterricht u16">
			<div class="bilder bellsprout"></div>
			<div class="bilder bullbasaur"></div>
			<div class="bilder caterpie"></div>
			<div class="bilder charmander"></div>
			<div class="bilder dratini"></div>
			<div class="bilder eevee"></div>
			<div class="bilder jigglypuff"></div>
			<div class="bilder mankey"></div>
			<div class="bilder meowth"></div>
			<div class="bilder mew"></div>
			<div class="bilder pidgey"></div>
			<div class="bilder psyduck"></div>
			<div class="bilder rattata"></div>
			<div class="bilder snorlax"></div>
			<div class="bilder squirtle"></div>
			<div class="bilder venonat"></div>
			<div class="bilder weedle"></div>
			<div class="bilder zubat"></div>

			<div class="bilder bellsprout"></div>
			<div class="bilder bullbasaur"></div>
			<div class="bilder caterpie"></div>
			<div class="bilder charmander"></div>
			<div class="bilder dratini"></div>
			<div class="bilder eevee"></div>
			<div class="bilder jigglypuff"></div>
			<div class="bilder mankey"></div>
			<div class="bilder meowth"></div>
			<div class="bilder mew"></div>
			<div class="bilder pidgey"></div>
			<div class="bilder psyduck"></div>
			<div class="bilder rattata"></div>
			<div class="bilder snorlax"></div>
			<div class="bilder squirtle"></div>
			<div class="bilder venonat"></div>
			<div class="bilder weedle"></div>
			<div class="bilder zubat"></div>
		</div>

	</main>
<script src="../js/jScript.js"></script>
<script>
    var sound = new Howl({
      src: ['../audio/glukofon.mp3'],
      loop:true,
      rate:0.9,
      volume:0.3
    });
    sound.play()
    var soundClick = new Howl({
      src: ['../audio/item.mp3'],
      volume:0.3
    });
</script>
<script>
	var clickCount = 0
	var el1 = ""
	var el2 = ""
	var flag = false
	$(".u16 .bilder").on("click", function(){
		soundClick.play()
		$(this).addClass("show")
		$(".u16__clickCount span:last-child").html(++clickCount)
		if(flag){
			flag = false
			el2 = this
			checkIMG()
		}
		else{
			flag = true
			el1 = this
		}
	})
	function checkIMG(){
		var e1 = $(el1).attr("class")
		var e2 = $(el2).attr("class")
		
		if(e1 === e2){
			isWin()
		}
		else{
			setTimeout(function(){
				$(el1).removeClass("show")
				$(el2).removeClass("show")
			}, 1000)
			
		}	
	}
	function isWin(){
		var n = 0
		var arr = $(".bilder").toArray()
		arr.map(function(img, i){
			var result = $(img).hasClass("show")

			if(result){
				console.log(n, arr.length)
				n++
				if(n === arr.length){
					alert("игра пройдена")
					reset()
				}
				
			}
		})
	}
	function reset(){
		var arr = $(".bilder").toArray()
		arr.map(function(img, i){
			$(img).removeClass("show")
		})
		clickCount = 0
		$(".u16__clickCount span:last-child").html(0)
	}
</script>
</body>
</html>